<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{projectName}} - Diagram Viewer</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="index.css">
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
  </head>
  <body>
    <div id="header">
      <button id="back-button">‚Üê Back</button>
      <h1>{{projectName}}</h1>
      <div id="breadcrumbs"></div>
    </div>
    <div id="viewer">
      <div class="diagram-container" id="diagram-container"></div>
    </div>

    <div id="modal-backdrop" onclick="closeModal(event)">
      <div id="modal-content" onclick="event.stopPropagation()">
        <div class="modal-header">
          <h2
            id="modal-title"
            style="
              margin: 0;
              font-family: 'Outfit', sans-serif;
              font-size: 1.25rem;
            "
          >
            Details
          </h2>
          <button class="close-btn" onclick="closeModal()">&times;</button>
        </div>
        <div id="modal-body" class="modal-body"></div>
      </div>
    </div>

    <!-- Initialization & External Logic -->
    <script>
      // Injected by FoundrySpec
      const idMap = {{idMap}};
      const projectName = "{{projectName}}";
      const projectVersion = "{{version}}";
    </script>
    <script src="index.js"></script>
  </body>
</html>
